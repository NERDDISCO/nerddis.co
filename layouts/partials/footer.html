<section class="full-height center">

  <div class="column space-around center--text">
    <div>
      <span class="icon" style="filter: invert(100%);">{{ "static/social/love.svg" | readFile | safeHTML }}</span>&nbsp;since 1985
    </div>
  </div>

  <div class="column space-around--all center--text">
    <div>
      <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> |
      <a href="legal">Legal</a>
    </div>
  </div>
</section>

<pwa-update-available class="update-available" hidden>
  <button class="update-available__button">Update available</button>
</pwa-update-available>

</body>
<script type="module" async>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      (async () => {
        const { PwaUpdateAvailable } = await import('./js/pwa-helper-components/pwa-update-available/PwaUpdateAvailable.js');
        customElements.define('pwa-update-available', PwaUpdateAvailable);

        navigator.serviceWorker.register('/sw.js');
      })();
    });
  }
</script>

{{ $filterJs := resources.Get "js/filter.js" | minify }}
<script type="module" async>{{ $filterJs.Content | safeJS }}</script>

{{ $copyCodeJs := resources.Get "js/copy-code.js" | minify }}
<script>{{ $copyCodeJs.Content | safeJS }}</script>

<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ 
    startOnLoad: true,
    theme: 'dark',
    fontFamily: '"Fragment Mono", monospace',
    themeVariables: {
      darkMode: true,
      background: '#1b1b1b',
      primaryColor: '#1b1b1b',
      primaryTextColor: '#f8f8f8',
      primaryBorderColor: '#f8f8f8',
      lineColor: '#f8f8f8',
      secondaryColor: '#1b1b1b',
      tertiaryColor: '#1b1b1b'
    }
  });
</script>

</html>
